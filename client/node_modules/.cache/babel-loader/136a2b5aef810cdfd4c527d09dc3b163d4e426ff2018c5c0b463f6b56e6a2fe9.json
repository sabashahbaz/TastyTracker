{"ast":null,"code":"var _jsxFileName = \"/Users/saba/Desktop/TastyTracker/client/src/Components/FoodItemsList.js\";\nimport React from 'react';\nimport FoodItem from \"./FoodItem\";\nimport CSS from \"../CSS/searchpage.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction FoodItemsList({\n  searchedItems,\n  setSearchedItems,\n  foodItem,\n  selectedMeal,\n  setFoodItem,\n  setTotalCaloriesIAte,\n  currentUser,\n  currentFoodResponse\n}) {\n  //adding the selected item + updating the calories user ate \n  function postDataAndPatchData() {\n    fetch('/add_to_food_list', {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/JSON\"\n      },\n      body: JSON.stringify({\n        \"name\": item.name,\n        \"description\": item.description,\n        \"calories\": item.calories,\n        \"meal_type\": selectedMeal,\n        \"user_id\": currentUser.user.user_id\n      })\n    }).then(response => response.json()).then(data => setFoodItem([...foodItem, data]));\n    fetch(`/update_calories_eaten/${currentUser.user.user_id}`, {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        \"calories\": item.calories\n      })\n    }).then(response => response.json()).then(data => {\n      console.log(\"I have not posted or patched anything\", data);\n      setTotalCaloriesIAte(data);\n      setSearchedItems([]);\n      // console.log(data)\n    })\n    // .then(data=> console.log(data))\n    .then(navigate('/food_log'));\n  }\n  ;\n\n  //the searched food items \n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"search-list-container-map\",\n    children: searchedItems.map(item => /*#__PURE__*/_jsxDEV(FoodItem, {\n      item: item,\n      setFoodItem: setFoodItem,\n      foodItem: foodItem,\n      selectedMeal: selectedMeal,\n      currentUser: currentUser,\n      currentFoodResponse: currentFoodResponse,\n      setTotalCaloriesIAte: setTotalCaloriesIAte,\n      setSearchedItems: setSearchedItems\n    }, item.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n}\n_c = FoodItemsList;\nexport default FoodItemsList;\nvar _c;\n$RefreshReg$(_c, \"FoodItemsList\");","map":{"version":3,"names":["React","FoodItem","CSS","jsxDEV","_jsxDEV","FoodItemsList","searchedItems","setSearchedItems","foodItem","selectedMeal","setFoodItem","setTotalCaloriesIAte","currentUser","currentFoodResponse","postDataAndPatchData","fetch","method","headers","body","JSON","stringify","item","name","description","calories","user","user_id","then","response","json","data","console","log","navigate","className","children","map","id","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/saba/Desktop/TastyTracker/client/src/Components/FoodItemsList.js"],"sourcesContent":["import React from 'react';\nimport FoodItem from \"./FoodItem\";\nimport CSS from \"../CSS/searchpage.css\"\n \nfunction FoodItemsList({\n    searchedItems, \n    setSearchedItems, \n    foodItem, \n    selectedMeal,\n    setFoodItem, \n    setTotalCaloriesIAte, \n    currentUser, \n    currentFoodResponse}) {\n\n    //adding the selected item + updating the calories user ate \n    function postDataAndPatchData() {\n        fetch('/add_to_food_list', {\n            method: 'POST',\n            headers: {\n                \"Content-Type\": \"application/JSON\",\n            },\n            body: JSON.stringify({\n                \"name\": item.name, \n                \"description\": item.description,\n                \"calories\": item.calories,\n                \"meal_type\": selectedMeal,\n                \"user_id\": currentUser.user.user_id,\n            })\n        })\n            .then(response => response.json())\n            .then(data =>setFoodItem([...foodItem, data]))\n        \n        fetch(`/update_calories_eaten/${currentUser.user.user_id}`, {\n            method: 'PATCH',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                \"calories\": item.calories,\n            })\n        })  \n            .then(response => response.json())\n            .then(data => {\n                console.log(\"I have not posted or patched anything\",data)\n                setTotalCaloriesIAte(data)\n                setSearchedItems([])\n                // console.log(data)\n            })\n            // .then(data=> console.log(data))\n            .then(navigate('/food_log'))\n\n};\n\n    //the searched food items \n    return(\n        <div className=\"search-list-container-map\"> \n            {searchedItems.map((item) => (\n                <FoodItem key={item.id}  \n                item={item} \n                setFoodItem={setFoodItem} \n                foodItem={foodItem} \n                selectedMeal= {selectedMeal} \n                currentUser={currentUser} \n                currentFoodResponse={currentFoodResponse} \n                setTotalCaloriesIAte={setTotalCaloriesIAte} \n                setSearchedItems={setSearchedItems}/> ))}\n        </div>\n    )     \n}\n\nexport default FoodItemsList;"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,QAAQ,MAAM,YAAY;AACjC,OAAOC,GAAG,MAAM,uBAAuB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEvC,SAASC,aAAaA,CAAC;EACnBC,aAAa;EACbC,gBAAgB;EAChBC,QAAQ;EACRC,YAAY;EACZC,WAAW;EACXC,oBAAoB;EACpBC,WAAW;EACXC;AAAmB,CAAC,EAAE;EAEtB;EACA,SAASC,oBAAoBA,CAAA,EAAG;IAC5BC,KAAK,CAAC,mBAAmB,EAAE;MACvBC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACL,cAAc,EAAE;MACpB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACjB,MAAM,EAAEC,IAAI,CAACC,IAAI;QACjB,aAAa,EAAED,IAAI,CAACE,WAAW;QAC/B,UAAU,EAAEF,IAAI,CAACG,QAAQ;QACzB,WAAW,EAAEf,YAAY;QACzB,SAAS,EAAEG,WAAW,CAACa,IAAI,CAACC;MAChC,CAAC;IACL,CAAC,CAAC,CACGC,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACjCF,IAAI,CAACG,IAAI,IAAGpB,WAAW,CAAC,CAAC,GAAGF,QAAQ,EAAEsB,IAAI,CAAC,CAAC,CAAC;IAElDf,KAAK,CAAE,0BAAyBH,WAAW,CAACa,IAAI,CAACC,OAAQ,EAAC,EAAE;MACxDV,MAAM,EAAE,OAAO;MACfC,OAAO,EAAE;QACL,cAAc,EAAE;MACpB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACjB,UAAU,EAAEC,IAAI,CAACG;MACrB,CAAC;IACL,CAAC,CAAC,CACGG,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACjCF,IAAI,CAACG,IAAI,IAAI;MACVC,OAAO,CAACC,GAAG,CAAC,uCAAuC,EAACF,IAAI,CAAC;MACzDnB,oBAAoB,CAACmB,IAAI,CAAC;MAC1BvB,gBAAgB,CAAC,EAAE,CAAC;MACpB;IACJ,CAAC;IACD;IAAA,CACCoB,IAAI,CAACM,QAAQ,CAAC,WAAW,CAAC,CAAC;EAExC;EAAC;;EAEG;EACA,oBACI7B,OAAA;IAAK8B,SAAS,EAAC,2BAA2B;IAAAC,QAAA,EACrC7B,aAAa,CAAC8B,GAAG,CAAEf,IAAI,iBACpBjB,OAAA,CAACH,QAAQ;MACToB,IAAI,EAAEA,IAAK;MACXX,WAAW,EAAEA,WAAY;MACzBF,QAAQ,EAAEA,QAAS;MACnBC,YAAY,EAAGA,YAAa;MAC5BG,WAAW,EAAEA,WAAY;MACzBC,mBAAmB,EAAEA,mBAAoB;MACzCF,oBAAoB,EAAEA,oBAAqB;MAC3CJ,gBAAgB,EAAEA;IAAiB,GARpBc,IAAI,CAACgB,EAAE;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAQc,CAAG;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC3C,CAAC;AAEd;AAACC,EAAA,GAhEQrC,aAAa;AAkEtB,eAAeA,aAAa;AAAC,IAAAqC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}